jQuery(document).ready((function(a){var o=a("#wpo_mod_preload_cache"),t=a("#wpo_mod_preload_cache_status"),n=null;function e(){n||(n=setInterval((function(){_()}),5e3))}function _(){let e={action:wpo_mod_ajax_object.update_status_action,nonce:wpo_mod_ajax_object.nonce,post_id:wpo_mod_ajax_object.post_id};a.ajax({url:wpo_mod_ajax_object.ajax_url,type:"POST",data:e,success:function(a){a.done?(o.val(wpo_mod_ajax_object.run_now),o.data("running",!1),clearInterval(n),n=null):(o.val(wpo_mod_ajax_object.cancel),o.data("running",!0)),t.text(a.message)},error:function(a){}})}o.on("click",(function(o){var _=a(this),c=_.data("running"),d=t.text(),r={action:wpo_mod_ajax_object.run_action,nonce:wpo_mod_ajax_object.nonce,post_id:wpo_mod_ajax_object.post_id};_.prop("disabled",!0),c?(_.data("running",!1),clearInterval(n),n=null,r.action=wpo_mod_ajax_object.cancel_action,a.ajax({url:wpo_mod_ajax_object.ajax_url,type:"POST",data:r,success:function(a){a&&a.hasOwnProperty("message")&&t.text(a.message)},error:function(a){}}).always((function(){_.val(wpo_mod_ajax_object.run_now),_.prop("disabled",!1)}))):(t.text(wpo_mod_ajax_object.starting_preload),_.data("running",!0),r.action=wpo_mod_ajax_object.run_action,a.ajax({url:wpo_mod_ajax_object.ajax_url,type:"POST",data:r,success:function(a){e()},error:function(a){_.prop("disabled",!1),_.data("running",!1)}}).always((function(a){if(a&&!a.success){var o=wpo_mod_ajax_object.error_text;return a.data.message&&(o=a.data.message),alert(o),t.text(d),_.prop("disabled",!1),void _.data("running",!1)}t.text(wpo_mod_ajax_object.loading_urls),_.val(wpo_mod_ajax_object.cancel),_.prop("disabled",!1)})))})),o.data("running")&&e(),_()}));